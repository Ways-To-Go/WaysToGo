{"version":3,"sources":["NavigationBar.js","ShowVoyage.js","AddVoyage.js","ShowCarte.js","App.js","serviceWorker.js","index.js"],"names":["NavigationBar","class","this","props","active","href","Component","EnteteVoyage","state","param","monthNames","etapes","length","d","Date","departure","getMonth","arrival","Math","ceil","date1","date2","getDateDebut","getDateFin","a","id","title","undefined","startdate","getMonthsDate1","stages","getMonthsDate2","enddate","description","vegan","ecological","author","firstName","lastName","getDureeVoyage2","getDureeVoyage1","EtapeVoyage","etape","city","photos","map","photo","src","path","alt","height","width","departureTransport","type","React","ShowVoyage","loadDoc","titre","toRender","parentVoyage","xhttp","XMLHttpRequest","onreadystatechange","readyState","status","JSON","parse","responseText","setState","Map","center","zoom","TileLayer","attribution","url","Marker","position","Popup","open","send","Upload","files","handleChange","bind","event","Array","prototype","forEach","call","target","file","URL","createObjectURL","multiple","onChange","UneEtape","for","name","placeholder","CreationVoyageAjoutEtapes","ecolo","setTextInputRef","createRef","ReactDOM","render","current","appendChild","document","createElement","value","ref","onClick","addEtapeVoyage","CreationVoyage","addMyVoyage","required","AddVoyage","startNewVoyage","validity","valid","checked","alert","ShowCarte","liste_voyage","villes","voyages","lat","lng","provider","OpenStreetMapProvider","search","query","then","result","concat","parentThis","response","className","voyage","App","urlParams","URLSearchParams","window","location","pageActuelle","get","trip","Boolean","hostname","match","StrictMode","getElementById","navigator","serviceWorker","ready","registration","unregister","catch","error","console","message"],"mappings":"mTAGqBA,E,uKAEnB,OACC,yBAAKC,MAAM,UACY,GAArBC,KAAKC,MAAMC,OACX,uBAAGH,MAAM,SAASI,KAAK,cAAvB,YAAmD,uBAAGA,KAAK,cAAR,YAE9B,GAArBH,KAAKC,MAAMC,OACX,uBAAGH,MAAM,SAASI,KAAM,cAAxB,qBAA8D,uBAAGA,KAAM,cAAT,qBAEzC,GAArBH,KAAKC,MAAMC,OACX,uBAAGH,MAAM,SAASI,KAAK,YAAvB,WAAgD,uBAAGA,KAAK,YAAR,WAE3B,GAArBH,KAAKC,MAAMC,OACX,uBAAGH,MAAM,SAASI,KAAK,UAAvB,SAA4C,uBAAGA,KAAK,UAAR,c,GAdNC,aCG9BC,EAAb,kDACC,WAAYJ,GAAQ,IAAD,8BAClB,cAAMA,IACDK,MAAQ,CACZC,MAAON,EAAMM,OAGd,EAAKC,WAAa,CAAC,UAAW,WAAY,QAAS,QAAS,MAAO,OAClE,OAAQ,SAAU,YAAa,UAAW,WAAY,YAPrC,EADpB,yDAmBcC,GACZ,GAAIA,EAAOC,OAAS,EAAG,CACtB,IAAIC,EAAI,IAAIC,KAAKH,EAAO,GAAGI,WAC3B,OAAOb,KAAKQ,WAAWG,EAAEG,YACnB,OAAO,OAvBhB,iCA2BYL,GACV,GAAIA,EAAOC,OAAS,EAAG,CACtB,IAAIC,EAAI,IAAIC,KAAKH,EAAOA,EAAOC,OAAS,GAAGK,SAC3C,OAAOf,KAAKQ,WAAWG,EAAEG,YACnB,OAAO,IA/BhB,sCAmCiBL,GACf,GAAIA,EAAOC,OAAS,EAAG,CACtB,IAAIC,EAAI,IAAIC,KAAKH,EAAOA,EAAOC,OAAS,GAAGK,SAAW,IAAIH,KAAKH,EAAO,GAAGI,WAEzE,OADiBG,KAAKC,KAAKN,EAAC,OAA4B,EAElD,OAAO,IAxChB,sCA2CiBO,EAAOC,GACrB,IAAIR,EAAI,IAAIC,KAAKO,GAAS,IAAIP,KAAKM,GAEnC,OADiBF,KAAKC,KAAKN,EAAC,OAA4B,IA7C3D,qCAkDgBF,GACd,IAAIE,EAAIX,KAAKoB,aAAaX,GAE1B,OAAIE,GADIX,KAAKqB,WAAWZ,GACLT,KAAKoB,aAAaX,GAAU,MAAQT,KAAKqB,WAAWZ,GAC3DE,IAtDd,qCAyDgBO,EAAOC,GACrB,IAAIR,EAAI,IAAIC,KAAKM,GACbI,EAAI,IAAIV,KAAKO,GACjB,OAAIR,EAAEG,YAAcQ,EAAER,WAAmBd,KAAKQ,WAAWG,EAAEG,YAAc,MAAQd,KAAKQ,WAAWc,EAAER,YACvFd,KAAKQ,WAAWG,EAAEG,cA7DhC,+BAiEE,OACC,yBAAKS,GAAG,QACP,4BAAKvB,KAAKM,MAAMC,MAAMiB,OACtB,iCAAoCC,IAA/BzB,KAAKM,MAAMC,MAAMmB,UAA0B1B,KAAK2B,eAAe3B,KAAKM,MAAMC,MAAMqB,QAAU5B,KAAK6B,eAAe7B,KAAKM,MAAMC,MAAMmB,UAAW1B,KAAKM,MAAMC,MAAMuB,UAChK,uBAAG/B,MAAM,iBAAiB,IAAMC,KAAKM,MAAMC,MAAMwB,YAAc,KAC/D,2BAAI/B,KAAKM,MAAMC,MAAMyB,MAAQ,sBAAwB,4CACrD,2BAAIhC,KAAKM,MAAMC,MAAM0B,WAAa,2BAA6B,iDAC/D,uCAAajC,KAAKM,MAAMC,MAAM2B,OAAOC,UAAY,IAAMnC,KAAKM,MAAMC,MAAM2B,OAAOE,UAC/E,mDAAsBpC,KAAKM,MAAMC,MAAMmB,UAAY1B,KAAKqC,gBAAgBrC,KAAKM,MAAMC,MAAMmB,UAAW1B,KAAKM,MAAMC,MAAMuB,SAAW9B,KAAKsC,gBAAgBtC,KAAKM,MAAMC,MAAMqB,QAAtK,eAzEJ,GAAkCxB,aA+ErBmC,EAAb,uKAEE,OAMC,6BACC,yBAAKxC,MAAM,SACV,uBAAGA,MAAM,YAAYC,KAAKC,MAAMuC,MAAMT,aAEtC,uBAAGhC,MAAM,mBAAmBC,KAAKC,MAAMuC,MAAMC,KAAO,WAAQ,IAAI7B,KAAKZ,KAAKC,MAAMuC,MAAMzB,UAErFf,KAAKC,MAAMuC,MAAME,OAAOC,KAAI,SAACC,GAAD,OAC5B,6BACC,yBAAKC,IAAKD,EAAME,KAAMC,IAAKH,EAAMpB,MAAOwB,OAAO,MAAMC,MAAM,QAE3D,2BAAIL,EAAMb,kBAKZ/B,KAAKC,MAAMuC,MAAMU,mBACjB,yBAAKnD,MAAM,oBACV,uBAAGA,MAAM,mBAAT,+BAAmDC,KAAKC,MAAMuC,MAAMU,mBAAmBC,OAEtF,QA3BP,GAAiCC,IAAMhD,WAkGxBiD,E,kDA/Dd,WAAYpD,GAAQ,IAAD,8BAClB,cAAMA,IAEDqD,QAAL,gBAEA,EAAKhD,MAAQ,CACZiB,GAAItB,EAAMsB,GACVgC,MAAO,KACPC,SAAU,uDARO,E,oDAYXC,GACP,IAAIC,EAAQ,IAAIC,eAChBD,EAAME,mBAAqB,WAC1B,GAAuB,GAAnB5D,KAAK6D,YAAkC,KAAf7D,KAAK8D,OAAe,CAC/C,IAAMvD,EAAQwD,KAAKC,MAAMhE,KAAKiE,cAC9BR,EAAaS,SAAS,CACrBV,SACC,6BACC,kBAAC,EAAD,MACA,yBAAKjC,GAAG,aACP,kBAAC4C,EAAA,EAAD,CAAK5C,GAAG,gBAAgB6C,OAAQ,CAAC,GAAM,GAAMC,KAAM,GAClD,kBAACC,EAAA,EAAD,CACCC,YAAY,0EACZC,IAAI,uDAGL,kBAACC,EAAA,EAAD,CAAQC,SAAU,CAAC,GAAM,IACxB,kBAACC,EAAA,EAAD,KACC,4BAAK,kBACL,uBAAGxE,KAAM,mBAAT,eAMJ,yBAAKoB,GAAG,eACP,kBAAC,EAAD,CAAchB,MAAOA,IAErB,yBAAKgB,GAAG,UACNhB,EAAMqB,OAAOe,KAAI,SAACH,GAAD,OACjB,kBAAC,EAAD,CAAaA,MAAOA,EAAOE,OAAQF,EAAME,mBAQjDgB,EAAMkB,KAAK,MAAO,4CAA8CnB,EAAaxD,MAAMsB,IAAI,GACvFmC,EAAMmB,S,+BAKN,OADc,6BAAK,6BAAM7E,KAAKM,MAAMkD,e,GAxDbpD,a,QCrGnB0E,E,kDACL,WAAY7E,GAAQ,IAAD,8BAClB,cAAMA,IACDK,MAAQ,CACZyE,MAAO,IAER,EAAKC,aAAe,EAAKA,aAAaC,KAAlB,gBALF,E,yDAQNC,GAAQ,IAAD,OACnBC,MAAMC,UAAUC,QAAQC,KAAKJ,EAAMK,OAAOR,OAAO,SAACS,GAAD,OAChD,EAAKtB,SAAS,CACba,MAAM,GAAD,mBAAM,EAAKzE,MAAMyE,OAAjB,YAA2BG,EAAMK,OAAOR,e,+BAM/C,OACC,yBAAKxD,GAAG,mBAENvB,KAAKM,MAAMyE,OAAS,YAAI/E,KAAKM,MAAMyE,OAAOpC,KAAI,SAAC6C,GAAD,OAC9C,yBAAKvC,MAAM,QAAQD,OAAO,QAAQH,IAAK4C,IAAIC,gBAAgBF,QAE5D,2BAAOrC,KAAK,OAAOwC,UAAQ,EAACC,SAAU5F,KAAKgF,oB,GAxB1B5B,IAAMhD,WAiCrByF,E,uKAEJ,OACC,yBAAK9F,MAAM,eACV,2BAAO+F,IAAI,UAAX,SACA,2BAAO3C,KAAK,OAAO5B,GAAG,SAASwE,KAAK,SAASC,YAAY,YAEzD,2BAAOF,IAAI,YAAX,qBACA,2BAAO3C,KAAK,OAAO5B,GAAG,WAAWwE,KAAK,WAAWC,YAAY,6BAE7D,2BAAOF,IAAI,YAAX,qBACA,2BAAO3C,KAAK,OAAO5B,GAAG,WAAWwE,KAAK,WAAWC,YAAY,iBAE7D,2BAAOF,IAAI,gBAAX,kBACA,8BAAUvE,GAAG,eAAewE,KAAK,eAAeC,YAAY,0BAE5D,kBAAC,EAAD,W,GAhBmB5C,IAAMhD,WAwBvB6F,E,kDACL,WAAYhG,GAAQ,IAAD,8BAClB,cAAMA,IACDK,MAAQ,CACZyF,KAAM9F,EAAM8F,KACZhE,YAAa9B,EAAM8B,YACnBL,UAAWzB,EAAMyB,UACjBI,QAAS7B,EAAM6B,QACfE,MAAO/B,EAAM+B,MACbkE,MAAOjG,EAAMiG,OAGd,EAAKC,gBAAkB/C,IAAMgD,YAXX,E,6DAelBC,IAASC,OAAO,kBAAC,EAAD,MAActG,KAAKmG,gBAAgBI,QAAQC,YAAYC,SAASC,cAAc,W,+BAI9F,OACC,yBAAKnF,GAAG,eACP,kBAAC,EAAD,CAAchB,MAAO,CAAEmB,UAAW1B,KAAKM,MAAMoB,UAAUiF,MAAO7E,QAAS9B,KAAKM,MAAMwB,QAAQ6E,MAAOnF,MAAOxB,KAAKM,MAAMyF,KAAKY,MAAO5E,YAAa/B,KAAKM,MAAMyB,YAAY4E,MAAO3E,MAAOhC,KAAKM,MAAM0B,MAAOkE,MAAOlG,KAAKM,MAAM4F,MAAOtE,OAAQ,GAAIM,OAAQ,CAAEC,UAAW,UAAWC,SAAU,aAElR,yBAAKwE,IAAK5G,KAAKmG,kBACf,4BAAQhD,KAAK,SAAS0D,QAAS7G,KAAK8G,eAAe7B,KAAKjF,OAAxD,6B,GAzBoCoD,IAAMhD,WAiCxC2G,E,kDACL,WAAY9G,GAAQ,IAAD,8BAClB,cAAMA,IACDK,MAAQ,CACZyF,KAAM9F,EAAM8F,KACZhE,YAAa9B,EAAM8B,YACnBL,UAAWzB,EAAMyB,UACjBI,QAAS7B,EAAM6B,QACfkF,YAAa/G,EAAM+G,YACnBhF,MAAO/B,EAAM+B,MACbkE,MAAOjG,EAAMiG,OATI,E,qDAclB,OACC,yBAAKnG,MAAM,cACV,8CAEA,yBAAKA,MAAM,UACV,0CACA,yBAAKA,MAAM,iBACV,uBAAGA,MAAM,eAAT,kBACA,2BAAOkH,UAAQ,EAAC9D,KAAK,OAAOyD,IAAK5G,KAAKM,MAAMyF,KAAMxE,GAAG,QAAQwE,KAAK,YAAYC,YAAY,mCAE1F,uBAAGjG,MAAM,eAAT,2BACA,8BAAUkH,UAAQ,EAACL,IAAK5G,KAAKM,MAAMyB,YAAaR,GAAG,QAAQwE,KAAK,WAAWC,YAAY,+GAKzF,yBAAKjG,MAAM,UACV,uCACA,yBAAKA,MAAM,iBACV,uBAAGA,MAAM,eAAT,qBACA,2BAAO6G,IAAK5G,KAAKM,MAAMoB,UAAWyB,KAAK,OAAO5B,GAAG,QAAQwE,KAAK,eAE9D,uBAAGhG,MAAM,eAAT,gBACA,2BAAO6G,IAAK5G,KAAKM,MAAMwB,QAASqB,KAAK,OAAO5B,GAAG,MAAMwE,KAAK,eAK5D,yBAAKhG,MAAM,UACV,6CACA,yBAAKA,MAAM,iBACV,6BACC,2BAAO6G,IAAK5G,KAAKM,MAAM0B,MAAOmB,KAAK,WAAW5B,GAAG,cAAcwE,KAAK,cAAcY,MAAM,eACxF,2BAAOb,IAAI,eAAX,6BAGD,6BACC,2BAAOc,IAAK5G,KAAKM,MAAM4F,MAAO/C,KAAK,WAAW5B,GAAG,cAAcwE,KAAK,cAAcY,MAAM,eACxF,2BAAOb,IAAI,eAAX,oCAMH,4BAAQ3C,KAAK,SAASpD,MAAM,aAAa8G,QAAS7G,KAAKM,MAAM0G,aAA7D,0B,GA3DyB5D,IAAMhD,WAmEd8G,E,kDACpB,WAAYjH,GAAQ,IAAD,8BAClB,cAAMA,IAEDK,MAAQ,CACZiB,GAAItB,EAAMsB,GACVgC,MAAO,KACP4D,gBAAgB,EAChB3D,SAAU,uDAGX,EAAKzB,YAAcqB,IAAMgD,YACzB,EAAKL,KAAO3C,IAAMgD,YAClB,EAAK1E,UAAY0B,IAAMgD,YACvB,EAAKtE,QAAUsB,IAAMgD,YACrB,EAAKpE,MAAQoB,IAAMgD,YACnB,EAAKF,MAAQ9C,IAAMgD,YAGnB,EAAKY,YAAc,EAAKA,YAAY/B,KAAjB,gBAlBD,E,0DAsBdjF,KAAK+B,YAAYwE,QAAQa,SAASC,OAASrH,KAAK+F,KAAKQ,QAAQa,SAASC,OACzErH,KAAK0B,UAAU6E,QAAQa,SAASC,OAASrH,KAAK8B,QAAQyE,QAAQa,SAASC,MACxErH,KAAKkE,SAAS,CACbnC,YAAa/B,KAAK+B,YAAYwE,QAAQI,MACtCZ,KAAM/F,KAAK+F,KAAKQ,QAAQI,MACxBjF,UAAW1B,KAAK0B,UAAU6E,QAAQI,MAClC7E,QAAS9B,KAAK8B,QAAQyE,QAAQI,MAC9BT,MAAOlG,KAAKkG,MAAMK,QAAQe,QAC1BtF,MAAOhC,KAAKgC,MAAMuE,QAAQe,QAC1BH,gBAAgB,IAEZI,MAAM,0D,+BAIX,OACC,6BACC,kBAAC,EAAD,CAAerH,OAAO,MAErBF,KAAKM,MAAM6G,eACX,kBAAC,EAAD,CAAgBpB,KAAM/F,KAAK+F,KAAM/D,MAAOhC,KAAKgC,MAAOkE,MAAOlG,KAAKkG,MAAOc,YAAahH,KAAKgH,YAAajF,YAAa/B,KAAK+B,YAAaL,UAAW1B,KAAK0B,UAAWI,QAAS9B,KAAK8B,UAE9K,kBAAC,EAAD,CAA2BiE,KAAM/F,KAAK+F,KAAKQ,QAASvE,MAAOhC,KAAKgC,MAAMuE,QAAQe,QAASpB,MAAOlG,KAAKkG,MAAMK,QAAQe,QAASvF,YAAa/B,KAAK+B,YAAYwE,QAAS7E,UAAW1B,KAAK0B,UAAU6E,QAASzE,QAAS9B,KAAK8B,QAAQyE,e,GA7CxLnG,a,QCzKlBoH,E,kDACpB,WAAYvH,GAAQ,IAAD,uBAClB,cAAMA,IAEDK,MAAQ,CACZmH,aAAc,GACdC,OAAQ,CAAC,QAAS,UAClBC,QAAS,GAETC,IAAK,UACLC,IAAK,UACLxD,KAAM,GAGP,EAAKf,QAAL,gBAEA,IAAMwE,EAAW,IAAIC,wBAfH,OAiBjB,EAAKzH,MAAMoH,OAAO/E,KAAI,SAACF,GAAD,OACrBqF,EACEE,OAAO,CAAEC,MAAOxF,IAChByF,MAAK,SAACC,GAAD,OACL,EAAKjE,SAAS,CAAEuD,aAAc,EAAKnH,MAAMmH,aAAaW,OAAO,CAACD,EAAQ1F,YArBxD,E,oDA2BX4F,GACP,IAAI3E,EAAQ,IAAIC,eAChBD,EAAME,mBAAqB,WACH,GAAnB5D,KAAK6D,YAAkC,KAAf7D,KAAK8D,QAChCuE,EAAWnE,SAAS,CACnByD,QAAS5D,KAAKC,MAAMhE,KAAKsI,UAAU,mBAKtC5E,EAAMkB,KAAK,MAAO,4CAA4C,GAC9DlB,EAAMmB,S,+BAIN,OACC,yBAAK0D,UAAU,OAEd,kBAAC,EAAD,CAAerI,OAAO,MAEtB,kBAACiE,EAAA,EAAD,CAAK5C,GAAG,eAAe6C,OAAQ,CAACpE,KAAKM,MAAMsH,IAAK5H,KAAKM,MAAMuH,KAAMxD,KAAMrE,KAAKM,MAAM+D,MACjF,kBAACC,EAAA,EAAD,CACCC,YAAY,0EACZC,IAAI,uDAGJxE,KAAKM,MAAMqH,QAAQhF,KAAI,SAAC6F,GAAD,OACvBA,EAAO5G,OAAOe,KAAI,SAACH,GAAD,OACjB,kBAACiC,EAAA,EAAD,CAAQC,SAAU,CAAClC,EAAMqF,IAAKrF,EAAMoF,MACnC,kBAACjD,EAAA,EAAD,KACC,4BAAK6D,EAAOhH,OACZ,uBAAGrB,KAAM,iBAAmBqI,EAAOjH,IAAnC,yB,GA3D8BnB,aCClBqI,E,kDAEpB,WAAYxI,GAAQ,IAAD,sBAClB,cAAMA,GAEN,IAAMyI,EAAY,IAAIC,gBAAgBC,OAAOC,SAASb,QAHpC,OAIlB,EAAK1H,MAAQ,CACZwI,aAAcJ,EAAUK,IAAI,QAC5BC,KAAMN,EAAUK,IAAI,OANH,E,qDAWlB,MAAgC,SAA5B/I,KAAKM,MAAMwI,aACN,kBAAC,EAAD,CAAYvH,GAAIvB,KAAKM,MAAM0I,OACG,SAA5BhJ,KAAKM,MAAMwI,aACb,kBAAC,EAAD,MAEA,kBAAC,EAAD,U,GAlBsB1I,aCKb6I,QACW,cAA7BL,OAAOC,SAASK,UAEe,UAA7BN,OAAOC,SAASK,UAEhBN,OAAOC,SAASK,SAASC,MACvB,2DCZN9C,IAASC,OACP,kBAAC,IAAM8C,WAAP,KACE,kBAAC,EAAD,OAEF3C,SAAS4C,eAAe,SDyHpB,kBAAmBC,WACrBA,UAAUC,cAAcC,MACrBtB,MAAK,SAAAuB,GACJA,EAAaC,gBAEdC,OAAM,SAAAC,GACLC,QAAQD,MAAMA,EAAME,c","file":"static/js/main.2bed2f07.chunk.js","sourcesContent":["import React, { Component } from \"react\";\r\nimport \"./App.css\";\r\n\r\nexport default class NavigationBar extends Component {\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<div class=\"topnav\">\r\n\t\t\t\t{this.props.active == 0 ?\r\n\t\t\t\t\t<a class=\"active\" href=\"/WaysToGo/\">WaysToGo</a> : <a href=\"/WaysToGo/\">WaysToGo</a>\r\n\t\t\t\t}\r\n\t\t\t\t{this.props.active == 1 ?\r\n\t\t\t\t\t<a class=\"active\" href={\"?show=save\"}>Ajouter un voyage</a> : <a href={\"?show=save\"}>Ajouter un voyage</a>\r\n\t\t\t\t}\r\n\t\t\t\t{this.props.active == 2 ?\r\n\t\t\t\t\t<a class=\"active\" href=\"#contact\">Contact</a> : <a href=\"#contact\">Contact</a>\r\n\t\t\t\t}\r\n\t\t\t\t{this.props.active == 3 ?\r\n\t\t\t\t\t<a class=\"active\" href=\"#about\">About</a> : <a href=\"#about\">About</a>\r\n\t\t\t\t}\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}","import React, { Component } from \"react\";\r\nimport \"./App.css\";\r\nimport { Map, TileLayer, Marker, Popup } from \"react-leaflet\";\r\nimport NavigationBar from './NavigationBar';\r\n\r\n\r\nexport class EnteteVoyage extends Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\tthis.state = {\r\n\t\t\tparam: props.param\r\n\t\t};\r\n\r\n\t\tthis.monthNames = [\"January\", \"February\", \"March\", \"April\", \"May\", \"June\",\r\n\t\t\t\"July\", \"August\", \"September\", \"October\", \"November\", \"December\"\r\n\t\t];\r\n\t}\r\n\r\n\t/* TODO :\r\n\t * fonction qui retourne le nombre d'étapes\r\n\t * qui retourne le nombre de photos\r\n\t * qui retourne le nombre de pays\r\n\t */\r\n\r\n\t// retourne le mois de debut\r\n\tgetDateDebut(etapes) {\r\n\t\tif (etapes.length > 0) {\r\n\t\t\tvar d = new Date(etapes[0].departure);\r\n\t\t\treturn this.monthNames[d.getMonth()];\r\n\t\t} else return null;\r\n\t}\r\n\r\n\t// retourne le mois de fin\r\n\tgetDateFin(etapes) {\r\n\t\tif (etapes.length > 0) {\r\n\t\t\tvar d = new Date(etapes[etapes.length - 1].arrival);\r\n\t\t\treturn this.monthNames[d.getMonth()];\r\n\t\t} else return 0;\r\n\t}\r\n\r\n\t// retourne le nombre de jours\r\n\tgetDureeVoyage1(etapes) {\r\n\t\tif (etapes.length > 0) {\r\n\t\t\tvar d = new Date(etapes[etapes.length - 1].arrival) - new Date(etapes[0].departure);\r\n\t\t\tconst diffDays = Math.ceil(d / (1000 * 60 * 60 * 24)) + 1;\r\n\t\t\treturn diffDays;\r\n\t\t} else return 0;\r\n\t}\r\n\r\n\tgetDureeVoyage2(date1, date2) {\r\n\t\t\tvar d = new Date(date2) - new Date(date1);\r\n\t\t\tconst diffDays = Math.ceil(d / (1000 * 60 * 60 * 24)) + 1;\r\n\t\t\treturn diffDays;\r\n\t}\r\n\r\n\t// renvoi la date a afficher (mois - mois)\r\n\tgetMonthsDate1(etapes) {\r\n\t\tvar d = this.getDateDebut(etapes);\r\n\t\tvar a = this.getDateFin(etapes);\r\n\t\tif (d != a) return this.getDateDebut(etapes) + \" - \" + this.getDateFin(etapes);\r\n\t\telse return d;\r\n\t}\r\n\r\n\tgetMonthsDate2(date1, date2) {\r\n\t\tvar d = new Date(date1);\r\n\t\tvar a = new Date(date2);\r\n\t\tif (d.getMonth() != a.getMonth()) return this.monthNames[d.getMonth()] + \" - \" + this.monthNames[a.getMonth()];\r\n\t\telse return this.monthNames[d.getMonth()];\r\n\t}\r\n\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<div id=\"head\">\r\n\t\t\t\t<h2>{this.state.param.title}</h2>\r\n\t\t\t\t<h5>{this.state.param.startdate === undefined ? this.getMonthsDate1(this.state.param.stages) : this.getMonthsDate2(this.state.param.startdate, this.state.param.enddate)}</h5>\r\n\t\t\t\t<p class=\"ladescription\">{'\"' + this.state.param.description + '\"'}</p>\r\n\t\t\t\t<p>{this.state.param.vegan ? \"Ce voyage est vegan\" : \"Ce voyage est signalé comme non-vegan\"}</p>\r\n\t\t\t\t<p>{this.state.param.ecological ? \"Ce voyage est ecologique\" : \"Ce voyage est signalé comme non-ecologique\"}</p>\r\n\t\t\t\t<p>auteur : {this.state.param.author.firstName + \" \" + this.state.param.author.lastName}</p>\r\n\t\t\t\t<p>Durée du voyage : {this.state.param.startdate ? this.getDureeVoyage2(this.state.param.startdate, this.state.param.enddate) : this.getDureeVoyage1(this.state.param.stages)} jours</p>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport class EtapeVoyage extends React.Component {\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t/*<div>\r\n\t\t\t\t<h1>Bonjour, monde !</h1>\r\n\t\t\t\t<h2>Il est {this.props.date.toLocaleTimeString()}.</h2>\r\n\t\t\t</div>*/\r\n\r\n\t\t\t<div>\r\n\t\t\t\t<div class=\"etape\">\r\n\t\t\t\t\t<p class=\"nomEtape\">{this.props.etape.description}</p>\r\n\r\n\t\t\t\t\t<p class=\"villedate_etape\">{this.props.etape.city + \" • \" + new Date(this.props.etape.arrival)}</p>\r\n\r\n\t\t\t\t\t{this.props.etape.photos.map((photo) => (\r\n\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t<img src={photo.path} alt={photo.title} height=\"150\" width=\"200\"></img>\r\n\r\n\t\t\t\t\t\t\t<p>{photo.description}</p>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t))}\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t{this.props.etape.departureTransport ?\r\n\t\t\t\t\t<div class=\"transition_etape\">\r\n\t\t\t\t\t\t<p class=\"transitionTexte\">• Moyen de transport : {this.props.etape.departureTransport.type}</p>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t: \"\"}\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\n\r\nclass ShowVoyage extends Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\r\n\t\tthis.loadDoc(this); // on recupere le voyage souhaite avec une requete ajax\r\n\r\n\t\tthis.state = {\r\n\t\t\tid: props.id,\r\n\t\t\ttitre: null,\r\n\t\t\ttoRender: <h1>Chargement en cours...</h1>,\r\n\t\t};\r\n\t}\r\n\r\n\tloadDoc(parentVoyage) {\r\n\t\tvar xhttp = new XMLHttpRequest();\r\n\t\txhttp.onreadystatechange = function () {\r\n\t\t\tif (this.readyState == 4 && this.status == 200) {\r\n\t\t\t\tconst param = JSON.parse(this.responseText);\r\n\t\t\t\tparentVoyage.setState({\r\n\t\t\t\t\ttoRender:\r\n\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t<NavigationBar />\r\n\t\t\t\t\t\t\t<div id=\"carteSide\">\r\n\t\t\t\t\t\t\t\t<Map id=\"ShowVoyageMap\" center={[40.0, 3.0]} zoom={2}>\r\n\t\t\t\t\t\t\t\t\t<TileLayer\r\n\t\t\t\t\t\t\t\t\t\tattribution='&amp;copy <a href=\"http://osm.org/copyright\">OpenStreetMap</a> contributors'\r\n\t\t\t\t\t\t\t\t\t\turl=\"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\"\r\n\t\t\t\t\t\t\t\t\t/>\r\n\r\n\t\t\t\t\t\t\t\t\t<Marker position={[40.0, 3.0]}>\r\n\t\t\t\t\t\t\t\t\t\t<Popup>\r\n\t\t\t\t\t\t\t\t\t\t\t<h1>{'Nom à venir'}</h1>\r\n\t\t\t\t\t\t\t\t\t\t\t<a href={\"?show=trip&id=1\"}>Cliquez</a>\r\n\t\t\t\t\t\t\t\t\t\t</Popup>\r\n\t\t\t\t\t\t\t\t\t</Marker>\r\n\t\t\t\t\t\t\t\t</Map>\r\n\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\t<div id=\"information\">\r\n\t\t\t\t\t\t\t\t<EnteteVoyage param={param} />\r\n\r\n\t\t\t\t\t\t\t\t<div id=\"etapes\">\r\n\t\t\t\t\t\t\t\t\t{param.stages.map((etape) => (\r\n\t\t\t\t\t\t\t\t\t\t<EtapeVoyage etape={etape} photos={etape.photos} />\r\n\t\t\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t};\r\n\t\txhttp.open(\"GET\", \"https://wtg.aymerik-diebold.fr/api/trips/\" + parentVoyage.props.id, true);\r\n\t\txhttp.send();\r\n\t}\r\n\r\n\trender() {\r\n\t\tlet content = <div><div>{this.state.toRender}</div></div>;\r\n\t\treturn (\r\n\t\t\tcontent\r\n\t\t);\r\n\t}\r\n}\r\n\r\n\r\nexport default ShowVoyage;","import React, { Component } from \"react\";\r\nimport \"./App.css\";\r\nimport { EnteteVoyage } from \"./ShowVoyage\";\r\nimport ReactDOM from 'react-dom';\r\nimport NavigationBar from './NavigationBar';\r\n\r\n/*\r\n * https://stackoverflow.com/questions/14069421/show-an-image-preview-before-upload\r\n * https://stackoverflow.com/questions/55831213/uploading-multiple-images-with-react\r\n * https://medium.com/@650egor/react-30-day-challenge-day-2-image-upload-preview-2d534f8eaaa\r\n * \r\n * https://stackoverflow.com/questions/38049966/get-image-preview-before-uploading-in-react\r\n * https://stackoverflow.com/questions/22245100/how-to-display-an-image-from-a-file-input\r\n * \r\n */\r\n\r\n// Gere l'ajout d'image et l'affichage\r\n//https://stackoverflow.com/questions/38049966/get-image-preview-before-uploading-in-react\r\nclass Upload extends React.Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props)\r\n\t\tthis.state = {\r\n\t\t\tfiles: [] // contient l'ensemble des images\r\n\t\t}\r\n\t\tthis.handleChange = this.handleChange.bind(this)\r\n\t}\r\n\r\n\thandleChange(event) {\r\n\t\tArray.prototype.forEach.call(event.target.files, (file) =>\r\n\t\t\tthis.setState({\r\n\t\t\t\tfiles: [...this.state.files, ...event.target.files] // ajout des nouvelles images a ceux deja existantes\r\n\t\t\t})\r\n\t\t);\r\n\t}\r\n\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<div id=\"imagesConteneur\">\r\n\t\t\t\t{/* Display all selected images. */}\r\n\t\t\t\t{this.state.files && [...this.state.files].map((file) => (\r\n\t\t\t\t\t<img width=\"200px\" height=\"200px\" src={URL.createObjectURL(file)} />\r\n\t\t\t\t))}\r\n\t\t\t\t<input type=\"file\" multiple onChange={this.handleChange} />\r\n\r\n\t\t\t\t{/*<label for=\"files\">Ajouter des images à cette étape</label>\r\n\t\t\t\t<input id=\"files\" style={{ visibility: \"hidden\" }} type=\"file\" multiple onChange={this.handleChange} />*/}\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nclass UneEtape extends React.Component {\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<div class=\"etapevoyage\">\r\n\t\t\t\t<label for=\"lville\">Ville</label>\r\n\t\t\t\t<input type=\"text\" id=\"lville\" name=\"lville\" placeholder=\"Ville..\"></input>\r\n\r\n\t\t\t\t<label for=\"nometape\">Nom de l'étape</label>\r\n\t\t\t\t<input type=\"text\" id=\"nometape\" name=\"nometape\" placeholder=\"ex. Promenade dans Paris\"></input>\r\n\r\n\t\t\t\t<label for=\"larrivee\">Date d'arrivée</label>\r\n\t\t\t\t<input type=\"text\" id=\"larrivee\" name=\"larrivee\" placeholder=\"Arrivée..\"></input>\r\n\r\n\t\t\t\t<label for=\"ldescription\">Votre histoire</label>\r\n\t\t\t\t<textarea id=\"ldescription\" name=\"ldescription\" placeholder=\"Ce que vous voulez...\"></textarea>\r\n\r\n\t\t\t\t<Upload />\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n}\r\n\r\n\r\n// seconde vue de la création de voyage : permet d'ajouter des etapes\r\nclass CreationVoyageAjoutEtapes extends React.Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\tthis.state = {\r\n\t\t\tname: props.name,\r\n\t\t\tdescription: props.description,\r\n\t\t\tstartdate: props.startdate,\r\n\t\t\tenddate: props.enddate,\r\n\t\t\tvegan: props.vegan,\r\n\t\t\tecolo: props.ecolo\r\n\t\t};\r\n\r\n\t\tthis.setTextInputRef = React.createRef();\r\n\t}\r\n\r\n\taddEtapeVoyage() {\r\n\t\tReactDOM.render(<UneEtape />, this.setTextInputRef.current.appendChild(document.createElement('div')))\r\n\t}\r\n\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<div id=\"information\">\r\n\t\t\t\t<EnteteVoyage param={{ startdate: this.state.startdate.value, enddate: this.state.enddate.value, title: this.state.name.value, description: this.state.description.value, vegan: this.state.vegan, ecolo: this.state.ecolo, stages: [], author: { firstName: \"Nicolas\", lastName: \"Dupond\"}}} />\r\n\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t<div ref={this.setTextInputRef}></div>\r\n\t\t\t\t<button type=\"button\" onClick={this.addEtapeVoyage.bind(this)}>Ajouter une étape</button>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\n\r\n\r\nclass CreationVoyage extends React.Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\tthis.state = {\r\n\t\t\tname: props.name,\r\n\t\t\tdescription: props.description,\r\n\t\t\tstartdate: props.startdate,\r\n\t\t\tenddate: props.enddate,\r\n\t\t\taddMyVoyage: props.addMyVoyage,\r\n\t\t\tvegan: props.vegan,\r\n\t\t\tecolo: props.ecolo\r\n\t\t};\r\n\t}\r\n\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<div class=\"formulaire\">\r\n\t\t\t\t<h3>Nouveau voyage</h3>\r\n\r\n\t\t\t\t<div class=\"partie\">\r\n\t\t\t\t\t<h4>Détails</h4>\r\n\t\t\t\t\t<div class=\"partiedetails\">\r\n\t\t\t\t\t\t<p class=\"partieLabel\">Nom du voyage:</p>\r\n\t\t\t\t\t\t<input required type=\"text\" ref={this.state.name} id=\"fname\" name=\"firstname\" placeholder=\"ex. Un grand tour de la France\"></input>\r\n\r\n\t\t\t\t\t\t<p class=\"partieLabel\">Résumé du voyage:</p>\r\n\t\t\t\t\t\t<textarea required ref={this.state.description} id=\"lname\" name=\"lastname\" placeholder=\"ex. Un voyage bucolique à travers la campagne francaise : vieux vestiges et spécialités locales\"></textarea>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\r\n\r\n\t\t\t\t<div class=\"partie\">\r\n\t\t\t\t\t<h4>Quand ?</h4>\r\n\t\t\t\t\t<div class=\"partiedetails\">\r\n\t\t\t\t\t\t<p class=\"partieLabel\">Date de début:</p>\r\n\t\t\t\t\t\t<input ref={this.state.startdate} type=\"date\" id=\"start\" name=\"trip-start\" />\r\n\r\n\t\t\t\t\t\t<p class=\"partieLabel\">Date de fin:</p>\r\n\t\t\t\t\t\t<input ref={this.state.enddate} type=\"date\" id=\"end\" name=\"trip-end\" />\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\r\n\r\n\t\t\t\t<div class=\"partie\">\r\n\t\t\t\t\t<h4>Paramétres</h4>\r\n\t\t\t\t\t<div class=\"partiedetails\">\r\n\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t<input ref={this.state.vegan} type=\"checkbox\" id=\"voyagevegan\" name=\"voyagevegan\" value=\"newsletter\"></input>\r\n\t\t\t\t\t\t\t<label for=\"voyagevegan\">Ce voyage est-il vegan ?</label>\r\n\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t<input ref={this.state.ecolo} type=\"checkbox\" id=\"voyageecolo\" name=\"voyageecolo\" value=\"newsletter\"></input>\r\n\t\t\t\t\t\t\t<label for=\"voyageecolo\">Ce voyage est-il ecologique ?</label>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\r\n\r\n\t\t\t\t<button type=\"button\" class=\"boutonsend\" onClick={this.state.addMyVoyage}>Ajouter le voyage</button>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\n\r\n\r\nexport default class AddVoyage extends Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\r\n\t\tthis.state = {\r\n\t\t\tid: props.id,\r\n\t\t\ttitre: null,\r\n\t\t\tstartNewVoyage: true,\r\n\t\t\ttoRender: <h1>Chargement en cours...</h1>\r\n\t\t};\r\n\r\n\t\tthis.description = React.createRef();\r\n\t\tthis.name = React.createRef();\r\n\t\tthis.startdate = React.createRef();\r\n\t\tthis.enddate = React.createRef();\r\n\t\tthis.vegan = React.createRef();\r\n\t\tthis.ecolo = React.createRef();\r\n\r\n\t\t// Cette liaison est nécéssaire afin de permettre l'utilisation de `this` dans la fonction de rappel.\r\n\t\tthis.addMyVoyage = this.addMyVoyage.bind(this);\r\n\t}\r\n\r\n\taddMyVoyage() {\r\n\t\tif (this.description.current.validity.valid && this.name.current.validity.valid &&\r\n\t\t\tthis.startdate.current.validity.valid && this.enddate.current.validity.valid)\r\n\t\tthis.setState({\r\n\t\t\tdescription: this.description.current.value,\r\n\t\t\tname: this.name.current.value,\r\n\t\t\tstartdate: this.startdate.current.value,\r\n\t\t\tenddate: this.enddate.current.value,\r\n\t\t\tecolo: this.ecolo.current.checked,\r\n\t\t\tvegan: this.vegan.current.checked,\r\n\t\t\tstartNewVoyage: false\r\n\t\t})\r\n\t\telse alert(\"Veillez compléter les parties Détails et Quand\")\r\n\t}\r\n\t\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<div>\r\n\t\t\t\t<NavigationBar active=\"1\" />\r\n\r\n\t\t\t\t{this.state.startNewVoyage ?\r\n\t\t\t\t\t<CreationVoyage name={this.name} vegan={this.vegan} ecolo={this.ecolo} addMyVoyage={this.addMyVoyage} description={this.description} startdate={this.startdate} enddate={this.enddate} />\r\n\t\t\t\t\t:\r\n\t\t\t\t\t<CreationVoyageAjoutEtapes name={this.name.current} vegan={this.vegan.current.checked} ecolo={this.ecolo.current.checked} description={this.description.current} startdate={this.startdate.current} enddate={this.enddate.current} />\r\n\t\t\t\t}\r\n\t\t\t</div>\r\n\t\t);\r\n\r\n\t}\r\n}\r\n","import React, { Component } from \"react\";\r\nimport { Map, TileLayer, Marker, Popup } from \"react-leaflet\";\r\nimport \"./App.css\";\r\nimport { OpenStreetMapProvider } from 'leaflet-geosearch';\r\nimport NavigationBar from './NavigationBar';\r\n\r\nexport default class ShowCarte extends Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\r\n\t\tthis.state = {\r\n\t\t\tliste_voyage: [],\r\n\t\t\tvilles: [\"Paris\", \"Madrid\"],\r\n\t\t\tvoyages: [],\r\n\r\n\t\t\tlat: 48.856614,\r\n\t\t\tlng: 2.3522219,\r\n\t\t\tzoom: 2\r\n\t\t};\r\n\r\n\t\tthis.loadDoc(this);\r\n\r\n\t\tconst provider = new OpenStreetMapProvider();\r\n\t\t{\r\n\t\t\tthis.state.villes.map((city) => (\r\n\t\t\t\tprovider\r\n\t\t\t\t\t.search({ query: city })\r\n\t\t\t\t\t.then((result) => (\r\n\t\t\t\t\t\tthis.setState({ liste_voyage: this.state.liste_voyage.concat([result, city]) })\r\n\t\t\t\t\t))\r\n\t\t\t))\r\n\t\t};\r\n\t}\r\n\r\n\tloadDoc(parentThis) {\r\n\t\tvar xhttp = new XMLHttpRequest();\r\n\t\txhttp.onreadystatechange = function () {\r\n\t\t\tif (this.readyState == 4 && this.status == 200) {\r\n\t\t\t\tparentThis.setState({\r\n\t\t\t\t\tvoyages: JSON.parse(this.response)['hydra:member'],\r\n\t\t\t\t});\r\n\t\t\t\t//console.log(parentThis.state.voyages);\r\n\t\t\t}\r\n\t\t};\r\n\t\txhttp.open(\"GET\", \"https://wtg.aymerik-diebold.fr/api/trips\", true);\r\n\t\txhttp.send();\r\n\t}\r\n\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<div className=\"App\">\r\n\r\n\t\t\t\t<NavigationBar active=\"0\"/>\r\n\r\n\t\t\t\t<Map id=\"principalMap\" center={[this.state.lat, this.state.lng]} zoom={this.state.zoom}>\r\n\t\t\t\t\t<TileLayer\r\n\t\t\t\t\t\tattribution='&amp;copy <a href=\"http://osm.org/copyright\">OpenStreetMap</a> contributors'\r\n\t\t\t\t\t\turl=\"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\"\r\n\t\t\t\t\t/>\r\n\r\n\t\t\t\t\t{this.state.voyages.map((voyage) => (\r\n\t\t\t\t\t\tvoyage.stages.map((etape) => (\r\n\t\t\t\t\t\t\t<Marker position={[etape.lng, etape.lat]}>\r\n\t\t\t\t\t\t\t\t<Popup>\r\n\t\t\t\t\t\t\t\t\t<h1>{voyage.title}</h1>\r\n\t\t\t\t\t\t\t\t\t<a href={\"?show=trip&id=\" + voyage.id}>Cliquez</a>\r\n\t\t\t\t\t\t\t\t</Popup>\r\n\t\t\t\t\t\t\t\t</Marker>\r\n\t\t\t\t\t\t))\r\n\t\t\t\t\t))}\r\n\t\t\t\t</Map>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}","import React, { Component } from \"react\";\nimport \"./App.css\";\nimport ShowVoyage from \"./ShowVoyage.js\";\nimport AddVoyage from \"./AddVoyage.js\";\nimport ShowCarte from \"./ShowCarte.js\";\n\n\nexport default class App extends Component {\n\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tconst urlParams = new URLSearchParams(window.location.search);\n\t\tthis.state = {\n\t\t\tpageActuelle: urlParams.get('show'), // on recupere la page a afficher via les arguments de l'URL\n\t\t\ttrip: urlParams.get('id'),\n\t\t};\n\t}\n\n\trender() {\n\t\tif (this.state.pageActuelle === \"trip\") {\n\t\t\treturn (<ShowVoyage id={this.state.trip} />)\n\t\t} else if (this.state.pageActuelle === \"save\") {\n\t\t\treturn (<AddVoyage />)\n\t\t} else {\n\t\t\treturn (<ShowCarte />)\n\t\t}\n\t}\n}\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}